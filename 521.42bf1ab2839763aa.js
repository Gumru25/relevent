"use strict";(self.webpackChunkrelevent=self.webpackChunkrelevent||[]).push([[521],{5521:(Q,u,i)=>{i.r(u),i.d(u,{ProfileModule:()=>a});var l=i(6895),g=i(4966),f=i(5698),m=i(4004),n=i(4650),d=i(384),v=i(2308),_=i(6391),h=i(6290),Z=i(6526),p=i(4859);function P(e,t){1&e&&(n.ynx(0),n.TgZ(1,"a",15),n._uU(2,"Go admin panel"),n.qZA(),n.BQk())}function x(e,t){if(1&e&&(n.ynx(0),n._UZ(1,"img",17),n.TgZ(2,"div",18),n._uU(3),n.qZA(),n.BQk()),2&e){const o=t.ngIf,r=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink",o)("src",r.imgUrl,n.LSH),n.xp6(1),n.Q6J("routerLink",o),n.xp6(1),n.hij(" ",r.title,"")}}function y(e,t){if(1&e&&(n.ynx(0),n.TgZ(1,"div",16),n.YNc(2,x,4,4,"ng-container",3),n.ALo(3,"async"),n.qZA(),n.BQk()),2&e){const o=t.$implicit,r=n.oxw(2);n.xp6(2),n.Q6J("ngIf",n.lcZ(3,1,r.createEventConcertUrl$(o.id)))}}function C(e,t){1&e&&(n.ynx(0),n.TgZ(1,"div"),n._uU(2,"No purchased tickets"),n.qZA(),n.TgZ(3,"button",19),n._uU(4,"Buy events"),n.qZA(),n.BQk())}function A(e,t){if(1&e&&(n.ynx(0),n.YNc(1,C,5,0,"ng-container",3),n.BQk()),2&e){const o=t.ngIf;n.xp6(1),n.Q6J("ngIf",0===o.length)}}function T(e,t){if(1&e){const o=n.EpF();n.ynx(0),n.TgZ(1,"section",4)(2,"div",5)(3,"div",6)(4,"button",7),n.NdJ("click",function(){n.CHM(o);const M=n.oxw();return n.KtG(M.signOut())}),n._uU(5,"Sign out"),n.qZA(),n.TgZ(6,"div",8),n._uU(7),n.qZA(),n.TgZ(8,"div",9),n._uU(9),n.qZA(),n.TgZ(10,"div",10),n._uU(11),n.qZA(),n.TgZ(12,"div",11),n._uU(13),n.qZA()(),n.YNc(14,P,3,0,"ng-container",3),n.ALo(15,"async"),n.TgZ(16,"div",12)(17,"h2"),n._uU(18,"Purchased tickets:"),n.qZA(),n.TgZ(19,"div",13),n.YNc(20,y,4,3,"ng-container",14),n.ALo(21,"async"),n.qZA(),n.YNc(22,A,2,1,"ng-container",3),n.ALo(23,"async"),n.qZA()()(),n.BQk()}if(2&e){const o=t.ngIf,r=n.oxw();n.xp6(7),n.hij("ID: ",o.id,""),n.xp6(2),n.hij("Full Name: ",o.fullName,""),n.xp6(2),n.hij("Email: ",o.email,""),n.xp6(2),n.hij("Phone: ",o.phone,""),n.xp6(1),n.Q6J("ngIf",n.lcZ(15,7,r.isAdmin$)),n.xp6(6),n.Q6J("ngForOf",n.lcZ(21,9,r.buyedEvents$)),n.xp6(2),n.Q6J("ngIf",n.lcZ(23,11,r.buyedEvents$))}}class s{constructor(t,o,r){this.authService=t,this.eventsService=o,this.userService=r,this.user$=this.authService.user$.pipe((0,f.q)(1)),this.buyedEvents$=this.userService.getBuyedEventConcerts$(this.user$),this.isAdmin$=this.authService.isAdmin$}ngOnInit(){}signOut(){this.authService.deAuthorize()}createEventConcertUrl$(t){return this.eventsService.getEventConcertById(t).pipe((0,m.U)(o=>null!==o?`/events/${o.id}`:o))}}s.\u0275fac=function(t){return new(t||s)(n.Y36(d.e),n.Y36(v.n),n.Y36(_.K))},s.\u0275cmp=n.Xpm({type:s,selectors:[["app-page-profile"]],decls:6,vars:3,consts:[[1,"page"],[1,"header"],[1,"main"],[4,"ngIf"],[1,"section","section_profile"],[1,"container"],[1,"profile"],["mat-raised-button","","color","warn",3,"click"],[1,"profile__id"],[1,"profile__full-name"],[1,"profile__email"],[1,"profile__phone"],[1,"events"],[1,"event-card-wrapper"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","routerLink","/admin",1,"btn","btn_admin"],[1,"event-card","event-card_added"],[1,"event-card__img",3,"routerLink","src"],[1,"event-card__title",3,"routerLink"],["routerLink","/events","mat-raised-button","","color","primary",1,"btn","btn_buy-event"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"app-header",1),n.TgZ(2,"main",2),n.YNc(3,T,24,13,"ng-container",3),n.ALo(4,"async"),n.qZA(),n._UZ(5,"app-footer"),n.qZA()),2&t&&(n.xp6(3),n.Q6J("ngIf",n.lcZ(4,1,o.user$)))},dependencies:[l.sg,l.O5,g.rH,h.G,Z.c,p.zs,p.lW,l.Ov],styles:[".profile[_ngcontent-%COMP%]{display:grid;grid-auto-rows:auto;place-items:start;gap:10px}.section_profile[_ngcontent-%COMP%]{padding:20px 0}.event-card-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,100px);gap:50px}.event-card[_ngcontent-%COMP%]{display:grid;grid-auto-rows:auto;place-items:start;gap:10px}.event-card__img[_ngcontent-%COMP%], .event-card__title[_ngcontent-%COMP%]{cursor:pointer}.btn_buy-event[_ngcontent-%COMP%]{margin-top:20px}h2[_ngcontent-%COMP%]{color:#00408c}.btn_admin[_ngcontent-%COMP%]{margin-top:20px}"]});const O=[{path:"",component:s}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=n.oAB({type:c}),c.\u0275inj=n.cJS({imports:[g.Bz.forChild(O),g.Bz]});var U=i(9718),$=i(2735);class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({providers:[d.e],imports:[l.ez,c,U.O,$._,p.ot]})}}]);