"use strict";(self.webpackChunkrelevent=self.webpackChunkrelevent||[]).push([[592],{2308:(g,l,i)=>{i.d(l,{n:()=>s});class d{constructor(e){this.imgUrl=e.imgUrl,this.title=e.title,this.description=e.description,this.date=e.date,this.id=`xz${Math.floor(1e6*Math.random())}xz`}}var v=i(1135),c=i(4004),u=i(3900),h=i(1571);class s{constructor(){this._eventsBehSubj=new v.X([]),this.onInit()}get events$(){return this._eventsBehSubj.asObservable()}onInit(){const e=localStorage.getItem("event-concerts");if(null!==e){const t=JSON.parse(e);this._eventsBehSubj.next(t)}else this.create4EventConcerts()}create4EventConcerts(){this.create({imgUrl:"assets/img/valery.jpg",title:"Valery Meladze",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 1",date:new Date}),this.create({imgUrl:"assets/img/evgeny_grinko.jfif",title:"Evgeny Grinko",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 2",date:new Date}),this.create({imgUrl:"assets/img/onegin.jfif",title:"Eugene Onegin",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 3",date:new Date}),this.create({imgUrl:"assets/img/edis.jfif",title:"Edis",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 4",date:new Date})}create(e){const t=new d(e),n=this._eventsBehSubj.getValue().concat(t);return this._eventsBehSubj.next(n),localStorage.setItem("event-concerts",JSON.stringify(n)),t}getEventConcertById(e){return this._eventsBehSubj.pipe((0,c.U)(t=>{const n=t.find(r=>r.id===e);return void 0!==n?n:null}))}getEventConcertsByUser(e){return e.pipe((0,u.w)(t=>null!==t?this.mapEventConcertsByUser(t):this._eventsBehSubj.pipe((0,c.U)(n=>n.map(r=>({...r,buyed:!1}))))))}mapEventConcertsByUser(e){return this._eventsBehSubj.pipe((0,c.U)(t=>t.map(n=>{const r=e.addedEventConcerts.find(a=>a.id===n.id);if(void 0!==r){const a=Object.assign({},r);return a.buyed=!0,a}return n.buyed=!1,n})))}}s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}}]);