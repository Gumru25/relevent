"use strict";(self.webpackChunkrelevent=self.webpackChunkrelevent||[]).push([[625],{1625:(S,l,i)=>{i.r(l),i.d(l,{EventsModule:()=>c});var o=i(6895),p=i(5964),e=i(1571),u=i(2308),m=i(6290),_=i(6526);function C(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e._uU(3),e.qZA(),e.TgZ(4,"div",8),e._uU(5),e.qZA(),e.TgZ(6,"div",9),e._UZ(7,"img",10),e.qZA(),e.TgZ(8,"div",11),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.BQk()),2&r){const t=n.ngIf;e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Q6J("src",t.imgUrl,e.LSH)("alt",t.title),e.xp6(2),e.Oqu(e.lcZ(10,5,t.date))}}class s{constructor(n,t){this.activatedRoute=n,this.eventsService=t,this.id=this.activatedRoute.snapshot.params.id,this.eventConcert$=this.eventsService.getEventConcertById(this.id)}}s.\u0275fac=function(n){return new(n||s)(e.Y36(p.gz),e.Y36(u.n))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-page-event"]],decls:8,vars:3,consts:[[1,"page"],[1,"header"],[1,"main"],[1,"section","section_event"],[1,"container"],[4,"ngIf"],[1,"event-card"],[1,"event-card__title"],[1,"event-card__description"],[1,"event-card__img-wrapper"],[1,"event-card__img",3,"src","alt"],[1,"event-card__date"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-header",1),e.TgZ(2,"main",2)(3,"section",3)(4,"div",4),e.YNc(5,C,11,7,"ng-container",5),e.ALo(6,"async"),e.qZA()()(),e._UZ(7,"app-footer"),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",e.lcZ(6,1,t.eventConcert$)))},dependencies:[o.O5,m.G,_.c,o.Ov,o.uU],styles:['.main[_ngcontent-%COMP%]{padding:40px 0}.event-card[_ngcontent-%COMP%]{display:grid;grid-template-areas:"event-card__img-wrapper event__title" "event-card__img-wrapper event__description" "event-card__img-wrapper event__date";grid-template-columns:minmax(50px,300px) auto;grid-auto-rows:auto;place-items:center center;max-width:600px;margin:0 auto}.event-card__img-wrapper[_ngcontent-%COMP%]{grid-area:event-card__img-wrapper;align-self:flex-start}.event-card__title[_ngcontent-%COMP%]{grid-area:event__title;font-size:1.5em}.event-card__description[_ngcontent-%COMP%]{grid-area:event__description}.event-card__date[_ngcontent-%COMP%]{grid-area:event__date}']});var h=i(5698),x=i(384),Z=i(6391),f=i(4859);function y(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9),e._UZ(2,"img",10),e.TgZ(3,"div",11),e._uU(4),e.qZA(),e.TgZ(5,"button",12),e.NdJ("click",function(){const M=e.CHM(t).$implicit,A=e.oxw(3);return e.KtG(A.addEventConcertToUser(M))}),e._uU(6),e.qZA()(),e.BQk()}if(2&r){const t=n.$implicit;e.xp6(1),e.uIk("data-card-id",t.id),e.xp6(1),e.Q6J("routerLink",t.id)("src",t.imgUrl,e.LSH),e.xp6(1),e.Q6J("routerLink",t.id),e.xp6(1),e.hij(" ",t.title," "),e.xp6(1),e.Q6J("disabled",t.buyed),e.xp6(1),e.hij(" ",t.buyed?"Purchased":"Buy"," ")}}function E(r,n){if(1&r&&(e.ynx(0),e.YNc(1,y,7,7,"ng-container",8),e.BQk()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",t)}}function O(r,n){if(1&r&&(e.ynx(0),e.YNc(1,E,2,1,"ng-container",7),e.BQk()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("ngIf",0!==t.length)}}class d{constructor(n,t,v){this.eventsService=n,this.authService=t,this.userService=v,this.eventConcerts$=this.eventsService.getEventConcertsByUser(this.authService.user$),this.user$=this.authService.user$}addEventConcertToUser(n){this.user$.pipe((0,h.q)(1)).subscribe(t=>{if(null!==t){const v=Object.assign({},n);delete v.buyed;const g=this.userService.addEventConcertByUserEmail(t,v);null!==g&&(this.authService.updateUser(g),n.buyed=!0)}})}}d.\u0275fac=function(n){return new(n||d)(e.Y36(u.n),e.Y36(x.e),e.Y36(Z.K))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-page-events"]],decls:10,vars:3,consts:[[1,"page"],[1,"header"],[1,"main"],[1,"section","section_events"],[1,"container"],[1,"events"],[1,"event-card-wrapper"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"event-card"],[1,"event-card__img",3,"routerLink","src"],[1,"event-card__title",3,"routerLink"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-header",1),e.TgZ(2,"main",2)(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6),e.YNc(7,O,2,1,"ng-container",7),e.ALo(8,"async"),e.qZA()()()()(),e._UZ(9,"app-footer"),e.qZA()),2&n&&(e.xp6(7),e.Q6J("ngIf",e.lcZ(8,1,t.eventConcerts$)))},dependencies:[o.sg,o.O5,p.rH,m.G,_.c,f.lW,o.Ov],styles:[".section_events[_ngcontent-%COMP%]{padding:40px 0}.event-card-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,200px);justify-content:center;gap:50px}.event-card[_ngcontent-%COMP%]{display:grid;grid-auto-rows:auto;place-items:start;gap:10px}.event-card__title[_ngcontent-%COMP%], .event-card__img[_ngcontent-%COMP%]{cursor:pointer}"]});const P=[{path:"",component:d},{path:":id",component:s}];class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[p.Bz.forChild(P),p.Bz]});var T=i(9718),U=i(2735);class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[o.ez,a,T.O,U._,f.ot]})}}]);