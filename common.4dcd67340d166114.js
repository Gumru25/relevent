"use strict";(self.webpackChunkrelevent=self.webpackChunkrelevent||[]).push([[592],{2308:(g,l,i)=>{i.d(l,{n:()=>s});class d{constructor(e){this.imgUrl=e.imgUrl,this.title=e.title,this.description=e.description,this.date=e.date,this.id=`xz${Math.floor(1e6*Math.random())}xz`}}var u=i(1135),a=i(4004),h=i(3900),v=i(4650);class s{constructor(){this._eventsBehSubj=new u.X([]),this.onInit()}get events$(){return this._eventsBehSubj.asObservable()}onInit(){const e=localStorage.getItem("event-concerts");if(null!==e){const t=JSON.parse(e);this._eventsBehSubj.next(t)}else this.create4EventConcerts()}create4EventConcerts(){this.create({imgUrl:"assets/img/valery.jpg",title:"Valery Meladze",description:" \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 1",date:new Date("2022-01-01")}),this.create({imgUrl:"assets/img/evgeny_grinko.jfif",title:"Evgeny Grinko",description:"Renowned pianist Evgeny Grinko will perform a concert program in front of his fans at the Heydar Aliyev Palace on January 26.",date:new Date("2022-01-05")}),this.create({imgUrl:"assets/img/onegin.jfif",title:"Eugene Onegin",description:'On February 19, the performance "Eugene Onegin" will take place in the Concert Hall of the Opera Studio at the Baku Musical Academy.',date:new Date("2022-01-07")}),this.create({imgUrl:"assets/img/edis.jfif",title:"Edis",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0446\u0435\u0440\u0442\u0430 4",date:new Date("2022-02-09")})}create(e){const t=new d(e),n=this._eventsBehSubj.getValue().concat(t);return this._eventsBehSubj.next(n),localStorage.setItem("event-concerts",JSON.stringify(n)),t}getEventConcertById(e){return this._eventsBehSubj.pipe((0,a.U)(t=>{const n=t.find(r=>r.id===e);return void 0!==n?n:null}))}getEventConcertsByUser(e){return e.pipe((0,h.w)(t=>null!==t?this.mapEventConcertsByUser(t):this._eventsBehSubj.pipe((0,a.U)(n=>n.map(r=>({...r,buyed:!1,quantity:1}))))))}mapEventConcertsByUser(e){return this._eventsBehSubj.pipe((0,a.U)(t=>t.map(n=>{const r=e.addedEventConcerts.find(c=>c.id===n.id);return void 0!==r?Object.assign({},r):(n.quantity=1,n)})))}}s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}}]);